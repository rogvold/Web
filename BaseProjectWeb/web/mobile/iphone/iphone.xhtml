<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link href="./css/buttons.css" rel="stylesheet" />
        <link href="./css/base.css" rel="stylesheet" />
        <link href="./css/pie.charts.css" rel="stylesheet" />
        <link href="./css/bootstrap.css" rel="stylesheet" />

        <script src="./js/jquery.min.js" type="text/javascript"></script>
        <script src="./js/pie-chart.js" type="text/javascript"></script>
        <script src="./js/highcharts.js" type="text/javascript"></script>

        <style type="text/css">
            .iphone{
                background-image: url('http://wbpreview.com/previews/WB0967058/assets/img/sep-half.png');
                width: 640px; 
                height: 100%;
                display: block; 
                background-color: #E4E4DA; 
                margin: 0 auto;
            }

            .net{
                display: block;
                width: 100%;
                height: 40px;
                background-color: black;
                color: white;
                font-weight: bold;
            }

            .topBar{
                display: block;
                width: 100%;
                height: 88px;
                background-color: #DA4F49;
                border-bottom: 1px solid #802420;
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAHklEQVQIW2NkQAXGjEh8YyD7LEwAzAFJggTgHJAAAE+uAzjGgU3wAAAAAElFTkSuQmCC');
                border-bottom-right-radius: 4px;
                border-bottom-left-radius: 4px;
                box-shadow:             rgba(255, 255, 255, 0.199219) 0px 5px 0px 0px inset, rgba(0, 0, 0, 0.046875) 0px 3px 6px 0px;
            }

            .bottomBar{
                display: block;
                width: 100%;
                height: 98px;
                background-color: #DA4F49;
                border-top: 1px solid #802420;
                background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAHklEQVQIW2NkQAXGjEh8YyD7LEwAzAFJggTgHJAAAE+uAzjGgU3wAAAAAElFTkSuQmCC');
                border-bottom-right-radius: 4px;
                border-bottom-left-radius: 4px;
            }

            .container{
                display: block;
                width: 100%;
                height: 734px;
            }

            .topSection{
                height: 200px;
                width: 100%;
                display: block;
                border-bottom: 1px dashed rgba(0, 0, 0, 0.3);
            }

            .topLeftSection{
                width: 50%;
                height: 100%;
                display: inline-block;
                border-right: 1px dashed rgba(0, 0, 0, 0.3);

            }

            .topRightSection{
                width: 49%;
                height: 100%;
                display: inline-block;
                text-align: center;
                font-size: 46px;
            }

            .middleSection{
                display: block;
                width: 100%;
                height: 260px;
                /*                background-color: whitesmoke;*/
            }

            .bottomSection{
                display: block;
                width: 100%;
                height: 240px;
                background-color: transparent;
                padding: 10px; 
                box-sizing: border-box;
                font-size: 24px; 
                text-align: justify; 
                line-height: 28px;
            }

            .bottomSection ul li{
                margin-bottom: 10px;
            }

            #highcharts{
                position: relative; 
                overflow: hidden; 
                width: 100%;
                height: 250px; 
                text-align: left;
                line-height: normal;
                z-index: 0; 
                font-family: 'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif; 
                font-size: 12px;
            }

            .easyPieChart>span{
                font-size: 32px !important;
            }

        </style>

        <script type="text/javascript">
            //<![CDATA[
            var initPieChart = function() {
                $('.percentage').easyPieChart({
                    animate: 500,
                    size:120,
                    lineWidth:10,
                    lineCap:'square',
                    barColor:'#bd362f',
                    trackColor:'rgba(0,0,0,0.1)',
                    scaleColor:'rgba(0,0,0,0.3)'
                });
            };
            
            function renderGraph(){
                var heartratewrapper = new Highcharts.Chart({
                    chart: {
                        type: 'spline',
                        lineWidth: 6,
                        states: {
                            hover: {
                                lineWidth: 7
                            }
                        },
                        renderTo: 'highcharts',
                        defaultSeriesType: 'line',
                        marginRight: 10,
                        marginBottom: 30,
                        backgroundColor:'rgba(255, 255, 255, 0.05)',
                        events: {
                            load: function() {
    
                                // set up the updating of the chart each second
                                var series = this.series[0];
                                setInterval(function() {
                                    var x = (new Date()).getTime(); // current time
                                    var perc = Math.random();
                                    changePercents(perc);
                                    y = (perc * 150) + 20;
                                    series.addPoint([x, y], true, true);
                                }, 1000);
                            }
                        }

                    },
                    title: {
                        text: 'Напряжение за последние 5 минут'
                    },
                    subtitle: {
                        text: null
                    },
                    xAxis: {
                        type: 'datetime'
                    },
                    yAxis: {
                        title: {
                            text: null
                        },
                        plotLines: [{
                                value: 0,
                                width: 1,
                                color: '#808080'
					
                            }]
                    },
                    tooltip: {
                        formatter: function() {
                            return ''+
                                this.x +': '+ this.y +' visits';
                        }
                    },
			
                    plotOptions: {
                        line: {
                            lineWidth: 7,
                            marker: {
                                enabled: false
                            }
                        }
                    },
			
                    legend: {
                        enabled: false
                    },
                    series:  [{
                            name: 'Random data',
                            data: (function() {
                                // generate an array of random data
                                var data = [],
                                time = (new Date()).getTime(),
                                i;
    
                                for (i = -19; i <= 0; i++) {
                                    var perc = Math.random();
                                    changePercents(perc);
                                    data.push({
                                        x: time + i * 1000,
                                        y: 20 + (perc * 150)
                                    });
                                }
                                return data;
                            })()
                        }]
                });
                

            } 
            function changePercents(percents){ 
                //                if (percents * 100 > 90) showNoty("you are very stressed");
                $('.btn-danger').text(Math.floor(15000*percents) / 100.0);
                $('.percentage').each(function() {        
                    var newValue = Math.floor(100*percents);       
                    $(this).data('easyPieChart').update(newValue);  
                    $('span', this).text(newValue + '%');      
                });     
            }
            
            $(function(){
                initPieChart();
                renderGraph();
            });
            
            //]]>
            
        </script>

    </head>
    <body style="background-color: whitesmoke; padding: 0px;">

        <div class="iphone">
            <div class="net">
                default 
            </div>
            <div class="topBar">
                nav
            </div>




            <div class="container">
                <div class="topSection">

                    <div class="topLeftSection">
                        <a class="knob-wrapper knob-chart knob-success" style="margin: 0 auto; display: block; margin-top: 20px;" href="#">
                            <span class="knob-inner">
                                <span class="percentage easyPieChart" data-percent="21" style="width: 120px; height: 120px; line-height: 120px; ">
                                    <span>21%</span>									
                                    <canvas width="120" height="120"></canvas></span>
                                <small style="font-size: 20px; color: firebrick;">Tension</small>
                            </span>
                        </a>
                    </div>

                    <div class="topRightSection">
                        <div style="display: htopinline-block; margin: 0 auto; font-size: 50px; text-align: center;">
                            55
                        </div>
                    </div>

                </div>

                <div class="middleSection">
                    <div id="chartline" >
                        <div class="highcharts-container" id="highcharts"  >

                        </div>
                    </div>
                </div>

                <div class="bottomSection" >
                    <ul>
                        <li>Состояние: <span style="color: darkcyan;">  послестрессовая релаксация</span></li>
                        <li>Длительность: <span style="color: darkcyan;"> 34 m. 55 s.</span></li>
                    </ul>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit 
                </div>

            </div>

            <div class="bottomBar">
                tabs
            </div>

        </div>


    </body>
</html>
